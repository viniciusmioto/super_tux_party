[gd_scene load_steps=11 format=3 uid="uid://c774c3vtcffj6"]

[ext_resource type="Script" path="res://plugins/minigames/knock_off/knock_off.gd" id="1"]
[ext_resource type="Environment" uid="uid://dqc276v17s56n" path="res://assets/defaults/default_env.tres" id="2"]
[ext_resource type="ArrayMesh" uid="uid://1o2t6exfa02r" path="res://assets/models/ice/ice.obj" id="4_wki5u"]
[ext_resource type="Material" uid="uid://64qat54mrl1" path="res://assets/models/ice/ice_material.tres" id="5_o2hs0"]
[ext_resource type="PackedScene" uid="uid://s0n58j5ofogj" path="res://plugins/minigames/knock_off/player_knock_off.tscn" id="7"]
[ext_resource type="Material" uid="uid://bslpcxlwyen22" path="res://assets/models/wavy_water/water_material.tres" id="8"]
[ext_resource type="PackedScene" uid="uid://bmdaus4pimoxb" path="res://common/scenes/countdown/countdown.tscn" id="9"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_37k8k"]
rough = true
bounce = 100.0
absorbent = true

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_76mrv"]
data = PackedVector3Array(-3.2756, 2, -2.8646, -1.5432, 2, -3.0211, -4.0018, 2, -1.2759, -4.4921, 2, 0.653, -4.6049, 2, -0.2558, -4.0018, 2, -1.2759, -4.4921, 2, 0.653, -4.0018, 2, -1.2759, -1.5432, 2, -3.0211, -3.4246, 1.9815, 2.0625, -4.1421, 2, 1.4134, -4.4921, 2, 0.653, -3.4246, 1.9815, 2.0625, -1.6161, 2, 3.1445, -2.8663, 2, 3.2911, -1.5432, 2, -3.0211, -0.2002, 2, 3.5504, -4.4921, 2, 0.653, -4.4921, 2, 0.653, -0.2002, 2, 3.5504, -1.6161, 2, 3.1445, -3.4246, 1.9815, 2.0625, -4.4921, 2, 0.653, -1.6161, 2, 3.1445, 1.8029, 2, 3.3269, 0.8199, 2, 4.6345, -0.2002, 2, 3.5504, 1.8029, 2, 3.3269, -1.5432, 2, -3.0211, -0.5602, 2, -3.6771, -0.2002, 2, 3.5504, -1.5432, 2, -3.0211, 1.8029, 2, 3.3269, 1.8029, 2, 3.3269, -0.5602, 2, -3.6771, 0.5711, 2, -3.4932, 1.8029, 2, 3.3269, 0.5711, 2, -3.4932, 1.517, 2, -2.7612, 3.2803, 2, 3.1535, 1.8029, 2, 3.3269, 1.517, 2, -2.7612, 2.5, 2, -2.9542, 3.1284, 2, -1.7287, 1.517, 2, -2.7612, 1.517, 2, -2.7612, 3.1284, 2, -1.7287, 3.6749, 2, -0.6159, 1.517, 2, -2.7612, 3.6749, 2, -0.6159, 3.1808, 2, 0.5897, 3.2803, 2, 3.1535, 1.517, 2, -2.7612, 3.1808, 2, 0.5897, 3.1808, 2, 0.5897, 3.92, 2, 1.6901, 3.2803, 2, 3.1535, 1.6594, -0.8855, -2.2296, 2.9088, -1.8905, -2.0768, 2.5, -2, -2.5, 1.8779, -2.1667, 2.9048, 3.1043, -1.8381, 1.6217, 1.3092, -2.3191, 2.408, 1.6594, -0.8855, -2.2296, 2.5711, -1.981, 0.9777, 2.7311, -1.9381, -1.0832, 0.1524, -1.2893, -2.1464, 0.5627, -2.5191, 2.8128, 1.6594, -0.8855, -2.2296, -1.0934, -1.6231, -2.4376, -0.5926, -2.8287, 2.776, 0.1524, -1.2893, -2.1464, -2.6407, -2.0377, 1.6055, -1.0902, -2.962, 2.1504, -2.0378, -1.8762, 1.1478, -1.0902, -2.962, 2.1504, -1.5958, -1.7577, -0.1211, -2.0378, -1.8762, 1.1478, -2.5, -2, -2.5, -1.6762, -1.7793, -1.1821, -1.0934, -1.6231, -2.4376, 0.9361, -1.0793, -2.5, 1.517, 2, -2.7612, 0.5711, 2, -3.4932, 2.5, 2, -2.9542, 1.6594, -0.8855, -2.2296, 2.5, -2, -2.5, -0.5602, 2, -3.6771, 0.9361, -1.0793, -2.5, 0.5711, 2, -3.4932, -0.5308, -1.4724, -2.9369, -0.5602, 2, -3.6771, -1.5432, 2, -3.0211, -0.5308, -1.4724, -2.9369, -1.5757, -1.7523, -3.1241, -1.0934, -1.6231, -2.4376, -1.5757, -1.7523, -3.1241, -3.2756, 2, -2.8646, -2.5, -2, -2.5, -3.2756, 2, -2.8646, -2.3192, -1.9515, -1.6398, -2.5, -2, -2.5, -1.6762, -1.7793, -1.1821, -4.0018, 2, -1.2759, -4.6049, 2, -0.2558, -1.5958, -1.7577, -0.1211, -4.6049, 2, -0.2558, -4.4921, 2, 0.653, -2.1182, -1.8977, 0.0245, -4.4921, 2, 0.653, -4.1421, 2, 1.4134, -2.0378, -1.8762, 1.1478, -4.1421, 2, 1.4134, -3.4246, 1.9815, 2.0625, -2.6407, -2.0377, 1.6055, -3.4246, 1.9815, 2.0625, -2.8663, 2, 3.2911, -2.6407, -2.0377, 1.6055, -2.8663, 2, 3.2911, -2.5, -2, 2.5, -1.6161, 2, 3.1445, -2.5, -2, 2.5, -2.8663, 2, 3.2911, -0.5926, -2.8287, 2.776, -1.0902, -2.962, 2.1504, -0.2002, 2, 3.5504, 0.5627, -2.5191, 2.8128, -0.2002, 2, 3.5504, 0.8199, 2, 4.6345, 1.3092, -2.3191, 2.408, 0.8199, 2, 4.6345, 1.8029, 2, 3.3269, 1.8779, -2.1667, 2.9048, 1.8029, 2, 3.3269, 3.2803, 2, 3.1535, 1.8779, -2.1667, 2.9048, 3.2803, 2, 3.1535, 2.5, -2, 2.5, 3.2803, 2, 3.1535, 3.1043, -1.8381, 1.6217, 2.5, -2, 2.5, 3.1043, -1.8381, 1.6217, 3.1808, 2, 0.5897, 2.5711, -1.981, 0.9777, 2.9088, -1.8905, 0.1129, 3.1808, 2, 0.5897, 3.6749, 2, -0.6159, 2.7311, -1.9381, -1.0832, 3.6749, 2, -0.6159, 3.1284, 2, -1.7287, 3.1284, 2, -1.7287, 1.6594, -0.8855, -2.2296, 2.7311, -1.9381, -1.0832, 2.7311, -1.9381, -1.0832, 2.9088, -1.8905, -2.0768, 1.6594, -0.8855, -2.2296, 2.5711, -1.981, 0.9777, 1.3092, -2.3191, 2.408, 3.1043, -1.8381, 1.6217, 2.5, -2, 2.5, 3.1043, -1.8381, 1.6217, 1.8779, -2.1667, 2.9048, 2.9088, -1.8905, 0.1129, 2.7311, -1.9381, -1.0832, 2.5711, -1.981, 0.9777, 1.3092, -2.3191, 2.408, 2.5711, -1.981, 0.9777, 1.6594, -0.8855, -2.2296, 1.3092, -2.3191, 2.408, 1.6594, -0.8855, -2.2296, 0.5627, -2.5191, 2.8128, 0.0473, -2.6572, 2.2976, 0.5627, -2.5191, 2.8128, 0.1524, -1.2893, -2.1464, 0.9361, -1.0793, -2.5, 0.1524, -1.2893, -2.1464, 1.6594, -0.8855, -2.2296, 0.0473, -2.6572, 2.2976, 0.1524, -1.2893, -2.1464, -0.5926, -2.8287, 2.776, -1.0902, -2.962, 2.1504, -0.5926, -2.8287, 2.776, -1.0934, -1.6231, -2.4376, -0.5308, -1.4724, -2.9369, -1.0934, -1.6231, -2.4376, 0.1524, -1.2893, -2.1464, -2.5, -2, 2.5, -1.0902, -2.962, 2.1504, -2.6407, -2.0377, 1.6055, -2.1182, -1.8977, 0.0245, -2.0378, -1.8762, 1.1478, -1.5958, -1.7577, -0.1211, -1.0934, -1.6231, -2.4376, -1.5958, -1.7577, -0.1211, -1.0902, -2.962, 2.1504, -1.5958, -1.7577, -0.1211, -1.0934, -1.6231, -2.4376, -1.6762, -1.7793, -1.1821, -2.3192, -1.9515, -1.6398, -1.6762, -1.7793, -1.1821, -2.5, -2, -2.5, -1.5757, -1.7523, -3.1241, -2.5, -2, -2.5, -1.0934, -1.6231, -2.4376, 1.6594, -0.8855, -2.2296, 1.517, 2, -2.7612, 0.9361, -1.0793, -2.5, 1.517, 2, -2.7612, 1.6594, -0.8855, -2.2296, 2.5, 2, -2.9542, 0.1524, -1.2893, -2.1464, 0.9361, -1.0793, -2.5, -0.5602, 2, -3.6771, 0.1524, -1.2893, -2.1464, -0.5602, 2, -3.6771, -0.5308, -1.4724, -2.9369, -1.5432, 2, -3.0211, -1.5757, -1.7523, -3.1241, -0.5308, -1.4724, -2.9369, -1.5432, 2, -3.0211, -3.2756, 2, -2.8646, -1.5757, -1.7523, -3.1241, -4.0018, 2, -1.2759, -2.3192, -1.9515, -1.6398, -3.2756, 2, -2.8646, -2.3192, -1.9515, -1.6398, -4.0018, 2, -1.2759, -1.6762, -1.7793, -1.1821, -1.6762, -1.7793, -1.1821, -4.6049, 2, -0.2558, -1.5958, -1.7577, -0.1211, -1.5958, -1.7577, -0.1211, -4.4921, 2, 0.653, -2.1182, -1.8977, 0.0245, -2.1182, -1.8977, 0.0245, -4.1421, 2, 1.4134, -2.0378, -1.8762, 1.1478, -2.0378, -1.8762, 1.1478, -3.4246, 1.9815, 2.0625, -2.6407, -2.0377, 1.6055, -1.0902, -2.962, 2.1504, -2.5, -2, 2.5, -1.6161, 2, 3.1445, -1.6161, 2, 3.1445, -0.2002, 2, 3.5504, -1.0902, -2.962, 2.1504, 0.0473, -2.6572, 2.2976, -0.5926, -2.8287, 2.776, -0.2002, 2, 3.5504, 0.0473, -2.6572, 2.2976, -0.2002, 2, 3.5504, 0.5627, -2.5191, 2.8128, 0.5627, -2.5191, 2.8128, 0.8199, 2, 4.6345, 1.3092, -2.3191, 2.408, 1.3092, -2.3191, 2.408, 1.8029, 2, 3.3269, 1.8779, -2.1667, 2.9048, 3.92, 2, 1.6901, 3.1043, -1.8381, 1.6217, 3.2803, 2, 3.1535, 3.92, 2, 1.6901, 3.1808, 2, 0.5897, 3.1043, -1.8381, 1.6217, 2.5711, -1.981, 0.9777, 3.1808, 2, 0.5897, 2.9088, -1.8905, 0.1129, 2.9088, -1.8905, 0.1129, 3.6749, 2, -0.6159, 2.7311, -1.9381, -1.0832, 2.5, 2, -2.9542, 1.6594, -0.8855, -2.2296, 3.1284, 2, -1.7287)

[sub_resource type="PlaneMesh" id="2"]
size = Vector2(30, 30)
subdivide_width = 70
subdivide_depth = 70

[node name="Root" type="Node3D"]
script = ExtResource("1")

[node name="Environment" type="WorldEnvironment" parent="."]
environment = ExtResource("2")

[node name="Camera3D" type="Camera3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 0.5, 0.866025, 0, -0.866025, 0.5, 0, 7, 3.3)

[node name="Screen" type="Control" parent="Environment"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Message" type="Label" parent="Environment/Screen"]
layout_mode = 0
anchor_right = 1.0
offset_top = 128.0
theme_type_variation = &"HeaderLarge"
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_constants/shadow_outline_size = 1
horizontal_alignment = 1

[node name="Countdown" parent="Environment/Screen" instance=ExtResource("9")]
layout_mode = 1

[node name="Ground" type="MeshInstance3D" parent="."]
transform = Transform3D(0.707107, 0, 0.707107, 0, 0.5, 0, -0.707107, 0, 0.707107, -0.289686, 1, -0.692997)
mesh = ExtResource("4_wki5u")
surface_material_override/0 = ExtResource("5_o2hs0")

[node name="StaticBody3D" type="StaticBody3D" parent="Ground"]
physics_material_override = SubResource("PhysicsMaterial_37k8k")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ground/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_76mrv")

[node name="Player1" parent="." instance=ExtResource("7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.53316, -2)

[node name="Player2" parent="." instance=ExtResource("7")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 2.53316, 2)

[node name="Player3" parent="." instance=ExtResource("7")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -2, 2.53316, 0)

[node name="Player4" parent="." instance=ExtResource("7")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 2, 2.53316, 0)

[node name="Sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.984808, -0.142244, 0.0996005, 0, 0.573576, 0.819152, -0.173648, -0.806707, 0.564862, -6, 4, 3)
shadow_enabled = true

[node name="Water" type="MeshInstance3D" parent="."]
transform = Transform3D(1.1, 0, 0, 0, 1, 0, 0, 0, 0.6, 0, 1.5, -4.70692)
mesh = SubResource("2")
surface_material_override/0 = ExtResource("8")
